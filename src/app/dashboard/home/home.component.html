<section class="head text-center">
  <div class="perfil text-center">
    <div
      class="imgPerfil mat-card-avatar"
      [ngStyle]="{ 'background-image': 'url(' + usuario.imgPerfil + ')' }"
    >
      <!-- <img [src]="usuario.imgPerfil" alt="Imagem de perfil Guardians" /> -->
    </div>
    <input
      #fotoPerfilInput
      type="file"
      accept="image/*"
      style="display: none"
      (change)="fotoPerfil($event)"
    />
    <button
      mat-mini-fab
      color="accent"
      (click)="fotoPerfilInput.click()"
      class="button-edit"
    >
      <mat-icon>edit</mat-icon>
    </button>
    <p>
      Olá, <b>{{ usuario.nome }}</b>
    </p>
  </div>
</section>
<section class="body">
  <div class="filter text-center">
    <div class="row pesquisa">
      <div class="col-3">
        <mat-icon matPrefix class="material-icons"> search </mat-icon>
      </div>
      <div class="col-9">
        <input
          (keyup)="buscar(busca.value)"
          #busca
          placeholder="Buscar carro"
        />
      </div>
    </div>

    <button mat-raised-button class="button-filter" (click)="filtrar()">
      <span class="material-icons"> filter_list </span>Filtrar
    </button>
  </div>
  <div class="reservas" *ngIf="!filtrado.length">
    <mat-label>Últimas reservas</mat-label>

    <carousel [height]="height" *ngIf="usuario.ultimasReservas?.length">
      <div
        class="carousel-cell"
        *ngFor="let carroID of usuario.ultimasReservas"
      >
        <app-card-carro [id]="carroID"></app-card-carro>
      </div>
    </carousel>
    <div class="catalogo text-center" *ngIf="!usuario.ultimasReservas?.length">
      <p>Nenhuma reserva efetuada.</p>
      <button mat-raised-button>
        Ver Catálogo
        <span
          class="material-icons"
          (click)="
            dialog.open(DialogCatalagoComponent, {
              panelClass: 'custom-dialog-container'
            })
          "
        >
          menu_book
        </span>
      </button>
    </div>
  </div>
  <div class="reservas" *ngIf="filtrado.length">
    <mat-label>Veículos Filtrados</mat-label>

    <carousel [height]="height">
      <div class="carousel-cell" *ngFor="let carro of filtrado">
        <app-card-carro [carro]="carro"></app-card-carro>
      </div>
    </carousel>
  </div>
  <div class="full-width text-center">
    <input
      #file
      type="file"
      accept="image/*"
      capture="environment"
      style="display: none"
    />
    <button
      class="button"
      (click)="file.click()"
      mat-flat-button
      color="primary"
    >
      <span class="material-icons"> qr_code_scanner </span>&nbsp; Acessar por QR
      code
    </button>
  </div>
</section>
